<html lang="">

<head>
    <title>Recap 2</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .persons {
            padding-top: 20px;
        }
    </style>
</head>
<body>
<div class="inputs">
    <input id="name" type="text" placeholder="Emri">
    <input id="lastname" type="text" placeholder="Mbiemri">
    <button onclick="saveAndShowPersons()">Save</button>
</div>
<div class="count">
    0
</div>
<div class="persons">

</div>
</body>
<script>
    let persons = [];

    function saveAndShowPersons() {
        const name = document.getElementById("name").value
        const lastname = document.getElementById("lastname").value
        let person = {
            name: name,
            lastname: lastname
        }
        persons.push(person)
        showPersons();

        document.querySelector(".count").innerHTML = persons.length

    }

    function showPersons() {
        document.querySelector(".persons").innerHTML = ""
        for (let i = persons.length - 1; i >= 0; i--) {
            console.log(i)
            document.querySelector(".persons").innerHTML =
                document.querySelector(".persons").innerHTML
                + `<div>${persons[i].name} ${persons[i].lastname}<button onclick="deletePerson(${i})">Delete</button></div>`
        }
    }

    function deletePerson(id) {
        persons.splice(id, 1);
        showPersons();
    }

</script>
</html>
